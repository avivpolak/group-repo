(()=>{document.getElementById("add").addEventListener("click",(async function(){let t=document.getElementById("name").value,e=document.getElementById("number").value;await(async(t,e)=>{const n={name:t,number:e};return axios.post("/api/persons/",n).then((t=>t.data))})(t,e),o()})),document.getElementById("list").addEventListener("click",(async function(t){let n=t.target.childNodes[0].textContent;"ðŸ—‘"===n?(await(async t=>{const n="/api/persons/"+await e(t);return axios.delete(n).then((t=>t.data))})(t.target.parentElement.childNodes[0].textContent),o()):a(n)}));const t=()=>axios.get("/api/persons").then((t=>t.data));async function e(e){let n=await t();for(let t of n)if(t.name===e)return t.id}function n(t){let e=i("div",["ðŸ—‘"]),n=i("a",[t,e],["list-group-item","list-group-item-action"]);document.getElementById("list").append(n)}function o(){document.getElementById("list").innerHTML="",async function(){let e=await t();for(let t of e)n(t.name)}()}async function a(t){console.log(t);let n=await(async t=>{const n="/api/persons/"+await e(t);return axios.get(n).then((t=>t.data))})(t),o=i("div",[`${n.id}| ${n.name}| ${n.number}`]);document.getElementById("showPerson").innerHTML="",document.getElementById("showPerson").append(o)}function i(t,e=[],n=[],o,a){const i=document.createElement(t);for(let t of e)"string"!=typeof t&&"number"!=typeof t||(t=document.createTextNode(t)),i.appendChild(t);for(const t of n)i.classList.add(t);for(const t in o)i.setAttribute(t,o[t]);for(const t in a)i.addEventListener(t,a[t]);return i}o(),a("Arto Hellas")})();